{
  "version": 3,
  "sources": ["../../app/scripts/cart-quick-view.js"],
  "sourcesContent": ["class CartRemoveButton extends HTMLElement {\r\n    constructor() {\r\n        console.log('b');\r\n      super();\r\n       this.addEventListener('click', (event) => {\r\n            console.log(this);\r\n            let spin = this.querySelector(\".cartQuickView__productLine-spinner\");\r\n            let removeSvg = this.querySelector(\"svg\");\r\n            spin.style.display=\"block\";\r\n            removeSvg.style.display=\"none\";\r\n            event.preventDefault();\r\n            this.closest(\"cart-quick-view\").updateQuantity(this.dataset.idproduct, 0);\r\n        });\r\n    }\r\n  }\r\n  \r\ncustomElements.define('cart-remove-button', CartRemoveButton);\r\n\r\nclass CartQuickView extends HTMLElement {\r\n    constructor(){\r\n        super();\r\n        this.init();\r\n    }\r\n    init(){\r\n        console.log('a');\r\n        let checkBox = this.querySelector(\".cartQuickView__checkbox\");\r\n        let checkOutBtn = this.querySelector(\".cartQuickView__checkOutBtn\")\r\n        checkBox.addEventListener(\"click\" , () => {\r\n            let box = checkBox.querySelector(\".cartQuickView__checkbox-box\");\r\n            if (box.classList.contains(\"cartQuickView__checkbox-boxActive\")){\r\n                box.classList.remove(\"cartQuickView__checkbox-boxActive\");\r\n                checkOutBtn.style.opacity = \"0.5\";\r\n                checkOutBtn.style.pointerEvents = \"none\";\r\n            }else{\r\n                box.classList.add(\"cartQuickView__checkbox-boxActive\");\r\n                checkOutBtn.style.opacity = \"1\";\r\n                checkOutBtn.style.pointerEvents = \"all\";\r\n            }\r\n        })\r\n    }\r\n    getSectionsToRender() {\r\n        return [\r\n          {\r\n            section: 'cart-quickview',\r\n            selector: '.cartQuickView',\r\n          },\r\n          {\r\n            section: 'cart-icon-bubble',\r\n            selector: '.header__myCart-qty'\r\n          }\r\n        ];\r\n    }\r\n    updateQuantity(idProduct, qty) {\r\n        fetch(window.Shopify.routes.root + \"cart/change.js\", {\r\n            method: 'POST',\r\n            headers: {\r\n            'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                'id': idProduct,\r\n                'quantity': qty,\r\n                'sections': this.getSectionsToRender().map((section) => section.section),\r\n                'sections_url': window.location.pathname\r\n            }),\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .then(data => {\r\n            console.log(data);\r\n            this.getSectionsToRender().forEach((section => {\r\n                const elementToReplace =\r\n                  document.querySelector(section.selector);\r\n      \r\n                elementToReplace.innerHTML =\r\n                  this.getSectionInnerHTML(data.sections[section.section], section.selector);\r\n            }));\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n    }\r\n    getSectionInnerHTML(html, selector) {\r\n        return new DOMParser()\r\n          .parseFromString(html, 'text/html')\r\n          .querySelector(selector).innerHTML;\r\n      }\r\n}\r\ncustomElements.define('cart-quick-view', CartQuickView);\r\n"],
  "mappings": "MAAA,mBAA+B,YAAY,CACvC,aAAc,CACV,QAAQ,IAAI,KACd,QACC,KAAK,iBAAiB,QAAS,AAAC,GAAU,CACrC,QAAQ,IAAI,MACZ,GAAI,GAAO,KAAK,cAAc,uCAC1B,EAAY,KAAK,cAAc,OACnC,EAAK,MAAM,QAAQ,QACnB,EAAU,MAAM,QAAQ,OACxB,EAAM,iBACN,KAAK,QAAQ,mBAAmB,eAAe,KAAK,QAAQ,UAAW,OAKnF,eAAe,OAAO,qBAAsB,GAE5C,mBAA4B,YAAY,CACpC,aAAa,CACT,QACA,KAAK,OAET,MAAM,CACF,QAAQ,IAAI,KACZ,GAAI,GAAW,KAAK,cAAc,4BAC9B,EAAc,KAAK,cAAc,+BACrC,EAAS,iBAAiB,QAAU,IAAM,CACtC,GAAI,GAAM,EAAS,cAAc,gCACjC,AAAI,EAAI,UAAU,SAAS,qCACvB,GAAI,UAAU,OAAO,qCACrB,EAAY,MAAM,QAAU,MAC5B,EAAY,MAAM,cAAgB,QAElC,GAAI,UAAU,IAAI,qCAClB,EAAY,MAAM,QAAU,IAC5B,EAAY,MAAM,cAAgB,SAI9C,qBAAsB,CAClB,MAAO,CACL,CACE,QAAS,iBACT,SAAU,kBAEZ,CACE,QAAS,mBACT,SAAU,wBAIlB,eAAe,EAAW,EAAK,CAC3B,MAAM,OAAO,QAAQ,OAAO,KAAO,iBAAkB,CACjD,OAAQ,OACR,QAAS,CACT,eAAgB,oBAEhB,KAAM,KAAK,UAAU,CACjB,GAAM,EACN,SAAY,EACZ,SAAY,KAAK,sBAAsB,IAAI,AAAC,GAAY,EAAQ,SAChE,aAAgB,OAAO,SAAS,aAGvC,KAAK,GACK,EAAS,QAEnB,KAAK,GAAQ,CACV,QAAQ,IAAI,GACZ,KAAK,sBAAsB,QAAS,GAAW,CAC3C,GAAM,GACJ,SAAS,cAAc,EAAQ,UAEjC,EAAiB,UACf,KAAK,oBAAoB,EAAK,SAAS,EAAQ,SAAU,EAAQ,cAG1E,MAAM,AAAC,GAAU,CACd,QAAQ,MAAM,SAAU,KAGhC,oBAAoB,EAAM,EAAU,CAChC,MAAO,IAAI,aACR,gBAAgB,EAAM,aACtB,cAAc,GAAU,YAGnC,eAAe,OAAO,kBAAmB",
  "names": []
}
