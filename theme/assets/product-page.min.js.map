{
  "version": 3,
  "sources": ["../../app/scripts/product-page.js"],
  "sourcesContent": ["\r\n\r\n// VARIABLES //\r\nconst minusBtn = document.querySelector(\".productPage__quantityCont-minusBtn\");\r\nconst plusBtn = document.querySelector(\".productPage__quantityCont-plusBtn\");\r\nconst qtyField = document.querySelector(\".productPage__quantityCont-inputQty\");\r\nconst checkBox = document.querySelector(\".productPage__termConditions\");\r\nconst init = () => {\r\n    minusBtn.addEventListener(\"click\", adjustQty )\r\n    plusBtn.addEventListener(\"click\" , adjustQty )\r\n    checkBox.addEventListener(\"click\" , () => {\r\n        let box = checkBox.querySelector(\".productPage__termConditions-checkbox\");\r\n        let checkOutBtns = document.querySelectorAll(\".productPage__btnBuyNow\");\r\n        if (box.classList.contains(\"productPage__termConditions-checkboxActive\")){\r\n            box.classList.remove(\"productPage__termConditions-checkboxActive\");\r\n            checkOutBtns.forEach(checkOutBtn => {\r\n                checkOutBtn.style.opacity = \"0.5\";\r\n                checkOutBtn.style.pointerEvents = \"none\";\r\n            })\r\n        }else{\r\n            box.classList.add(\"productPage__termConditions-checkboxActive\");\r\n            checkOutBtns.forEach(checkOutBtn => {\r\n                checkOutBtn.style.opacity = \"1\";\r\n                checkOutBtn.style.pointerEvents = \"all\";\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\n// FUNCTION //\r\n\r\nconst adjustQty = (e) => {\r\n    if (e.target.getAttribute(\"name\") === \"minus\"){\r\n        if(qtyField.value*1 > 1)\r\n        qtyField.value = qtyField.value*1 - 1;\r\n    }else{\r\n        qtyField.value = qtyField.value*1 + 1;\r\n    }\r\n}\r\n\r\ninit();\r\n\r\n\r\n// CART-POPUP //\r\n\r\n// Add to Cart //\r\nconst productData = JSON.parse(document.querySelector(\"#productPage__settings\").innerText).product;\r\n\r\nconst addToCartForm = document.querySelector('form[action$=\"/cart/add\"]');\r\nconst spinner = document.querySelector(\".loading__spinner\");\r\n\r\naddToCartForm.addEventListener(\"submit\" , e => addToCart(e));\r\n\r\nconst getSectionsToRender = () => {\r\n    return [\r\n        {\r\n            section: 'cart-quickview',\r\n            selector: '.cartQuickView',\r\n        },\r\n        {\r\n            section: 'cart-icon-bubble',\r\n            selector: '.header__myCart-qty'\r\n        },\r\n        {\r\n            section: 'cart-popup',\r\n            selector: '.cartPopupCont'\r\n        }\r\n    ];\r\n}\r\n\r\nconst getSectionInnerHTML = (html, selector) => {\r\n    return new DOMParser()\r\n          .parseFromString(html, 'text/html')\r\n          .querySelector(selector).innerHTML;\r\n}\r\n\r\nconst addToCart = (e) => {\r\n    e.preventDefault();\r\n    spinner.style.display=\"block\";\r\n    let formData = new FormData(addToCartForm);\r\n    let productUrl = `/products/${productData.handle}`;\r\n    formData.append(\"sections\",getSectionsToRender().map((section) => section.section));\r\n    formData.append(\"sections_url\", productUrl);\r\n\r\n    fetch(window.Shopify.routes.root + 'cart/add.js', {\r\n        method: 'POST',\r\n        body: formData\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .then(data => {\r\n        spinner.style.display=\"none\";\r\n        \r\n        window.scrollTo(0, 0);\r\n        \r\n        getSectionsToRender().forEach((section => {\r\n            if (section.selector === \".cartPopupCont\"){\r\n                const parser = new DOMParser();\r\n                let elementToAppend = document.querySelector(\".cartPopupCont\");\r\n                let domToAdd = parser.parseFromString(data.sections[section.section],'text/html').querySelector(\".cartPopup\");\r\n                elementToAppend.appendChild(domToAdd);\r\n            }else{\r\n                const elementToReplace =\r\n                document.querySelector(section.selector);\r\n                elementToReplace.innerHTML =\r\n                getSectionInnerHTML(data.sections[section.section], section.selector);\r\n            }\r\n        }));\r\n    })\r\n    .catch((error) => {\r\n        console.error('Error:', error);\r\n    });\r\n};\r\n\r\n"],
  "mappings": "MAGA,GAAM,GAAW,SAAS,cAAc,uCAClC,EAAU,SAAS,cAAc,sCACjC,EAAW,SAAS,cAAc,uCAClC,EAAW,SAAS,cAAc,gCAClC,EAAO,IAAM,CACf,EAAS,iBAAiB,QAAS,GACnC,EAAQ,iBAAiB,QAAU,GACnC,EAAS,iBAAiB,QAAU,IAAM,CACtC,GAAI,GAAM,EAAS,cAAc,yCAC7B,EAAe,SAAS,iBAAiB,2BAC7C,AAAI,EAAI,UAAU,SAAS,8CACvB,GAAI,UAAU,OAAO,8CACrB,EAAa,QAAQ,GAAe,CAChC,EAAY,MAAM,QAAU,MAC5B,EAAY,MAAM,cAAgB,UAGtC,GAAI,UAAU,IAAI,8CAClB,EAAa,QAAQ,GAAe,CAChC,EAAY,MAAM,QAAU,IAC5B,EAAY,MAAM,cAAgB,YAQ5C,EAAY,AAAC,GAAM,CACrB,AAAI,EAAE,OAAO,aAAa,UAAY,QAC/B,EAAS,MAAM,EAAI,GACtB,GAAS,MAAQ,EAAS,MAAM,EAAI,GAEpC,EAAS,MAAQ,EAAS,MAAM,EAAI,GAI5C,IAMA,GAAM,GAAc,KAAK,MAAM,SAAS,cAAc,0BAA0B,WAAW,QAErF,EAAgB,SAAS,cAAc,6BACvC,EAAU,SAAS,cAAc,qBAEvC,EAAc,iBAAiB,SAAW,GAAK,EAAU,IAEzD,GAAM,GAAsB,IACjB,CACH,CACI,QAAS,iBACT,SAAU,kBAEd,CACI,QAAS,mBACT,SAAU,uBAEd,CACI,QAAS,aACT,SAAU,mBAKhB,EAAsB,CAAC,EAAM,IACxB,GAAI,aACJ,gBAAgB,EAAM,aACtB,cAAc,GAAU,UAG7B,EAAY,AAAC,GAAM,CACrB,EAAE,iBACF,EAAQ,MAAM,QAAQ,QACtB,GAAI,GAAW,GAAI,UAAS,GACxB,EAAa,aAAa,EAAY,SAC1C,EAAS,OAAO,WAAW,IAAsB,IAAI,AAAC,GAAY,EAAQ,UAC1E,EAAS,OAAO,eAAgB,GAEhC,MAAM,OAAO,QAAQ,OAAO,KAAO,cAAe,CAC9C,OAAQ,OACR,KAAM,IAET,KAAK,GACK,EAAS,QAEnB,KAAK,GAAQ,CACV,EAAQ,MAAM,QAAQ,OAEtB,OAAO,SAAS,EAAG,GAEnB,IAAsB,QAAS,GAAW,CACtC,GAAI,EAAQ,WAAa,iBAAiB,CACtC,GAAM,GAAS,GAAI,WACf,EAAkB,SAAS,cAAc,kBACzC,EAAW,EAAO,gBAAgB,EAAK,SAAS,EAAQ,SAAS,aAAa,cAAc,cAChG,EAAgB,YAAY,OAC3B,CACD,GAAM,GACN,SAAS,cAAc,EAAQ,UAC/B,EAAiB,UACjB,EAAoB,EAAK,SAAS,EAAQ,SAAU,EAAQ,eAIvE,MAAM,AAAC,GAAU,CACd,QAAQ,MAAM,SAAU",
  "names": []
}
