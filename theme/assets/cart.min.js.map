{
  "version": 3,
  "sources": ["../../app/scripts/cart.js"],
  "sourcesContent": ["class MainCartRemoveBtn extends HTMLElement {\r\n    constructor() {\r\n    \r\n      super();\r\n       this.addEventListener('click', (event) => {\r\n            console.log(this);\r\n            let spin = this.querySelector(\".cartPage__removeBtn-spinner\");\r\n            let removeSvg = this.querySelector(\"svg\");\r\n            spin.style.display=\"block\";\r\n            removeSvg.style.display=\"none\";\r\n            event.preventDefault();\r\n            this.closest(\"main-cart\").updateQuantity(this.dataset.idproduct, 0);\r\n        });\r\n    }\r\n  }\r\n  \r\ncustomElements.define('maincart-remove-button', MainCartRemoveBtn);\r\n\r\nclass MainCartRemoveAllBtn extends HTMLElement {\r\n    constructor() {\r\n    \r\n      super();\r\n       this.addEventListener('click', (event) => {\r\n            let spin = this.querySelector(\".cartPage__removeBtn-spinner\");\r\n            let removeSvg = this.querySelector(\".cartPage__clearCart\");\r\n            spin.style.display=\"block\";\r\n            removeSvg.style.display=\"none\";\r\n            event.preventDefault();\r\n            this.closest(\"main-cart\").cartClear();\r\n        });\r\n    }\r\n  }\r\n  \r\ncustomElements.define('maincart-remove-all-button', MainCartRemoveAllBtn);\r\n\r\nclass MainCartQtyField extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        this.init();\r\n    }\r\n    init(){\r\n        let spin = this.querySelector(\".cartPage__removeBtn-spinner\");\r\n   \r\n        let spinCont = this.querySelector(\".cartPage__qtyField-spinnerCont\")\r\n\r\n        const idProduct = this.dataset.idproduct;\r\n        \r\n        const plusBtns = this.querySelectorAll(\".cartPage__qtyField-plusBtn\");\r\n      \r\n        const minusBtns = this.querySelectorAll(\".cartPage__qtyField-minusBtn\");\r\n       \r\n        const qtyInput = this.querySelector(\".cartPage__qtyField-inputQty\");\r\n    \r\n        plusBtns.forEach(plusBtn => {\r\n            plusBtn.addEventListener(\"click\" , () => {\r\n                spinCont.style.display = \"flex\";\r\n                spin.style.display=\"block\";\r\n                qtyInput.style.display=\"none\";\r\n                this.closest(\"main-cart\").updateQuantity(idProduct, qtyInput.value*1+1);\r\n\r\n            })\r\n        })\r\n        minusBtns.forEach(minusBtn => {\r\n            minusBtn.addEventListener(\"click\" , () => {\r\n                spinCont.style.display = \"flex\";\r\n                spin.style.display=\"block\";\r\n                qtyInput.style.display=\"none\";\r\n                this.closest(\"main-cart\").updateQuantity(idProduct, qtyInput.value*1-1);\r\n\r\n            })\r\n        })\r\n        qtyInput.addEventListener(\"change\" , () => {\r\n            let qty = qtyInput.value;\r\n            spinCont.style.display = \"flex\";\r\n            spin.style.display=\"block\";\r\n            qtyInput.style.display=\"none\";\r\n            this.closest(\"main-cart\").updateQuantity(idProduct, qty*1);\r\n\r\n        })\r\n\r\n    }\r\n  }\r\n  \r\ncustomElements.define('maincart-qty-field', MainCartQtyField);\r\n\r\n\r\nclass MainCartItems extends HTMLElement {\r\n    constructor(){\r\n        super();\r\n      \r\n    }\r\n    init(){\r\n        \r\n    }\r\n    getSectionsToRender() {\r\n        return [\r\n          {\r\n            section: 'cart-quickview',\r\n            selector: '.cartQuickView',\r\n          },\r\n          {\r\n            section: 'cart-icon-bubble',\r\n            selector: '.header__myCart-qty'\r\n          },\r\n          {\r\n            section: 'main-cart',\r\n            selector: '.cartPage'\r\n          }\r\n        ];\r\n    }\r\n    updateQuantity(idProduct, qty) {\r\n        console.log(idProduct);\r\n        console.log(qty);\r\n        fetch(window.Shopify.routes.root + \"cart/change.js\", {\r\n            method: 'POST',\r\n            headers: {\r\n            'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                'id': idProduct,\r\n                'quantity': qty,\r\n                'sections': this.getSectionsToRender().map((section) => section.section),\r\n                'sections_url': window.location.pathname\r\n            }),\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .then(data => {\r\n            console.log(data);\r\n            this.getSectionsToRender().forEach((section => {\r\n                const elementToReplace =\r\n                  document.querySelector(section.selector);\r\n                const domReplace = this.getSectionInnerHTML((data.sections[section.section])).querySelector(section.selector);\r\n                elementToReplace.replaceWith(domReplace);\r\n                \r\n            }));\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n    }\r\n    getSectionInnerHTML(html) {\r\n        return new DOMParser()\r\n          .parseFromString(html, 'text/html');\r\n    }\r\n    cartClear(){\r\n        fetch(window.Shopify.routes.root + \"cart/clear.js\", {\r\n            method: 'POST',\r\n            headers: {\r\n            'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                'sections': this.getSectionsToRender().map((section) => section.section),\r\n                'sections_url': window.location.pathname\r\n            }),\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .then(data => {\r\n            this.getSectionsToRender().forEach((section => {\r\n                const elementToReplace =\r\n                  document.querySelector(section.selector);\r\n                const domReplace = this.getSectionInnerHTML((data.sections[section.section])).querySelector(section.selector);\r\n                elementToReplace.replaceWith(domReplace);\r\n                \r\n            }));\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n    }\r\n}\r\ncustomElements.define('main-cart', MainCartItems);"],
  "mappings": "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",
  "names": []
}
