(()=>{var m=document.querySelector(".productPage__quantityCont-minusBtn"),g=document.querySelector(".productPage__quantityCont-plusBtn"),s=document.querySelector(".productPage__quantityCont-inputQty"),u=document.querySelector(".productPage__termConditions"),_=document.querySelector(".productPage__askingPd"),q=document.querySelector(".popupAsking"),S=document.querySelector(".popupAsking__contentDefault"),h=document.querySelector(".productPage__shippingPd"),P=document.querySelector(".popupShipping"),i=document.querySelector("body"),v=()=>{m.addEventListener("click",p),g.addEventListener("click",p),u.addEventListener("click",()=>{let t=u.querySelector(".productPage__termConditions-checkbox"),r=document.querySelectorAll(".productPage__btnBuyNow");t.classList.contains("productPage__termConditions-checkboxActive")?(t.classList.remove("productPage__termConditions-checkboxActive"),r.forEach(e=>{e.style.opacity="0.5",e.style.pointerEvents="none"})):(t.classList.add("productPage__termConditions-checkboxActive"),r.forEach(e=>{e.style.opacity="1",e.style.pointerEvents="all"}))}),_.addEventListener("click",()=>{S.style.display="block",q.style.display="block",i.style.overflow="hidden"}),h.addEventListener("click",()=>{P.style.display="block",i.style.overflow="hidden"})},p=t=>{t.target.getAttribute("name")==="minus"?s.value*1>1&&(s.value=s.value*1-1):s.value=s.value*1+1};v();var k=JSON.parse(document.querySelector("#productPage__settings").innerText).product,E=JSON.parse(document.querySelector("#productPage__settings").innerText).pdQuantity,d=document.querySelectorAll(".productForm");console.log(d);var a=document.querySelector(".loading__spinner"),y=()=>[{section:"cart-quickview",selector:".cartQuickView"},{section:"cart-icon-bubble",selector:".header__myCart-qty"},{section:"cart-popup",selector:".cartPopupCont"}],b=t=>new DOMParser().parseFromString(t,"text/html");d.forEach(t=>{let r=t.querySelector('input[name="id"]').value,e=t.querySelector('input[name="quantity"]').value,o=`/products/${k.handle}`,c={items:[{id:r,quantity:e,properties:{preOrder:!0}}],sections:y().map(n=>n.section),sections_url:o};t.addEventListener("submit",n=>f(n,c))});var f=(t,r)=>{t.preventDefault(),a.style.display="block",console.log(r),fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(e=>e.json()).then(e=>{if(console.log(e),a.style.display="none",e.status){let o=document.querySelector(".cartPopUpError");o.style.display="block";let c=o.querySelector(".cartPopUpError__error");c.innerText=e.description,i.style.overflow="hidden"}else y().forEach(o=>{if(o.selector===".cartPopupCont"){let c=new DOMParser,n=document.querySelector(".cartPopupCont"),l=c.parseFromString(e.sections[o.section],"text/html").querySelector(".cartPopup");l.setAttribute("data-qty",s.value),n.appendChild(l)}else document.querySelectorAll(o.selector).forEach(n=>{let l=b(e.sections[o.section]);n.replaceWith(l.querySelector(o.selector))})})}).catch(e=>{console.error("Error:",e)})};})();
