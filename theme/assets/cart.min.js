(()=>{var l=class extends HTMLElement{constructor(){super();this.addEventListener("click",e=>{let r=this.querySelector(".cartPage__removeBtn-spinner"),t=this.querySelector("svg");r.style.display="block",t.style.display="none",e.preventDefault(),this.closest("main-cart").updateQuantity(this.dataset.idproduct,0)})}};customElements.define("maincart-remove-button",l);var a=class extends HTMLElement{constructor(){super();this.addEventListener("click",e=>{let r=this.querySelector(".cartPage__removeBtn-spinner"),t=this.querySelector(".cartPage__clearCart");r.style.display="block",t.style.display="none",e.preventDefault(),this.closest("main-cart").cartClear()})}};customElements.define("maincart-remove-all-button",a);var d=class extends HTMLElement{constructor(){super();this.init()}init(){let e=this.querySelector(".cartPage__removeBtn-spinner"),r=this.querySelector(".cartPage__qtyField-spinnerCont"),t=this.dataset.idproduct,s=this.querySelectorAll(".cartPage__qtyField-plusBtn"),c=this.querySelectorAll(".cartPage__qtyField-minusBtn"),n=this.querySelector(".cartPage__qtyField-inputQty");s.forEach(o=>{o.addEventListener("click",()=>{r.style.display="flex",e.style.display="block",n.style.display="none",this.closest("main-cart").updateQuantity(t,n.value*1+1)})}),c.forEach(o=>{o.addEventListener("click",()=>{r.style.display="flex",e.style.display="block",n.style.display="none",this.closest("main-cart").updateQuantity(t,n.value*1-1)})}),n.addEventListener("change",()=>{let o=n.value;r.style.display="flex",e.style.display="block",n.style.display="none",this.closest("main-cart").updateQuantity(t,o*1)})}};customElements.define("maincart-qty-field",d);var u=class extends HTMLElement{constructor(){super()}init(){}getSectionsToRender(){return[{section:"cart-quickview",selector:".cartQuickView"},{section:"cart-icon-bubble",selector:".header__myCart-qty"},{section:"main-cart",selector:".cartPage"}]}updateQuantity(e,r){fetch(window.Shopify.routes.root+"cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,quantity:r,sections:this.getSectionsToRender().map(t=>t.section),sections_url:window.location.pathname})}).then(t=>t.json()).then(t=>{t.items.forEach(s=>{if(s.id===e*1&&r>s.quantity){let c=document.querySelector(".cartPopUpError");c.style.display="block";let n=c.querySelector(".cartPopUpError__error");n.innerText=n.getAttribute("error").replace("{{ maxQty }}",s.quantity);let o=document.querySelector("body");o.style.overflow="hidden"}}),this.getSectionsToRender().forEach(s=>{document.querySelectorAll(s.selector).forEach(n=>{let o=this.getSectionInnerHTML(t.sections[s.section]);n.replaceWith(o.querySelector(s.selector))})})}).catch(t=>{console.error("Error:",t)})}getSectionInnerHTML(e){return new DOMParser().parseFromString(e,"text/html")}cartClear(){fetch(window.Shopify.routes.root+"cart/clear.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sections:this.getSectionsToRender().map(e=>e.section),sections_url:window.location.pathname})}).then(e=>e.json()).then(e=>{this.getSectionsToRender().forEach(r=>{let t=document.querySelector(r.selector),s=this.getSectionInnerHTML(e.sections[r.section]).querySelector(r.selector);t.replaceWith(s)})}).catch(e=>{console.error("Error:",e)})}};customElements.define("main-cart",u);})();
