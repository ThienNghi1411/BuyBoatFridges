(()=>{var l=class extends HTMLElement{constructor(){super();this.addEventListener("click",e=>{console.log(this);let n=this.querySelector(".cartPage__removeBtn-spinner"),t=this.querySelector("svg");n.style.display="block",t.style.display="none",e.preventDefault(),this.closest("main-cart").updateQuantity(this.dataset.idproduct,0)})}};customElements.define("maincart-remove-button",l);var a=class extends HTMLElement{constructor(){super();this.addEventListener("click",e=>{let n=this.querySelector(".cartPage__removeBtn-spinner"),t=this.querySelector(".cartPage__clearCart");n.style.display="block",t.style.display="none",e.preventDefault(),this.closest("main-cart").cartClear()})}};customElements.define("maincart-remove-all-button",a);var d=class extends HTMLElement{constructor(){super();this.init()}init(){let e=this.querySelector(".cartPage__removeBtn-spinner"),n=this.querySelector(".cartPage__qtyField-spinnerCont"),t=this.dataset.idproduct,o=this.querySelectorAll(".cartPage__qtyField-plusBtn"),i=this.querySelectorAll(".cartPage__qtyField-minusBtn"),s=this.querySelector(".cartPage__qtyField-inputQty");o.forEach(r=>{r.addEventListener("click",()=>{n.style.display="flex",e.style.display="block",s.style.display="none",this.closest("main-cart").updateQuantity(t,s.value*1+1)})}),i.forEach(r=>{r.addEventListener("click",()=>{n.style.display="flex",e.style.display="block",s.style.display="none",this.closest("main-cart").updateQuantity(t,s.value*1-1)})}),s.addEventListener("change",()=>{let r=s.value;n.style.display="flex",e.style.display="block",s.style.display="none",this.closest("main-cart").updateQuantity(t,r*1)})}};customElements.define("maincart-qty-field",d);var u=class extends HTMLElement{constructor(){super()}init(){}getSectionsToRender(){return[{section:"cart-quickview",selector:".cartQuickView"},{section:"cart-icon-bubble",selector:".header__myCart-qty"},{section:"main-cart",selector:".cartPage"}]}updateQuantity(e,n){console.log(e),console.log(n),fetch(window.Shopify.routes.root+"cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,quantity:n,sections:this.getSectionsToRender().map(t=>t.section),sections_url:window.location.pathname})}).then(t=>t.json()).then(t=>{console.log(t),this.getSectionsToRender().forEach(o=>{let i=document.querySelector(o.selector),s=this.getSectionInnerHTML(t.sections[o.section]).querySelector(o.selector);i.replaceWith(s)})}).catch(t=>{console.error("Error:",t)})}getSectionInnerHTML(e){return new DOMParser().parseFromString(e,"text/html")}cartClear(){fetch(window.Shopify.routes.root+"cart/clear.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sections:this.getSectionsToRender().map(e=>e.section),sections_url:window.location.pathname})}).then(e=>e.json()).then(e=>{this.getSectionsToRender().forEach(n=>{let t=document.querySelector(n.selector),o=this.getSectionInnerHTML(e.sections[n.section]).querySelector(n.selector);t.replaceWith(o)})}).catch(e=>{console.error("Error:",e)})}};customElements.define("main-cart",u);})();
