(()=>{var A=document.querySelectorAll(".tag"),i="",m=document.querySelector(".select-selected"),u=0,v=!1;renderItems=()=>{let c=document.querySelector(".collection__spinner");c.style.display="unset",fetch("https://www.buyboatfridges.com/collections/"+collection_handle.toLowerCase()+"/"+i+"?sort_by="+m,{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"}).then(e=>e.text()).then(e=>{let t=document.createElement("div");t.innerHTML=e;let l=document.querySelector(".collection__tittle"),r=t.querySelectorAll(".productCard").length;l.innerHTML=collection_title+` (${r})`,c.style.display="none",history.replaceState(null,null,"/collections/"+collection_handle.toLowerCase()+"/"+i+"?sort_by="+m);let o=t.querySelector(".collection__Productcontent");if(document.querySelector(".collection__Productcontent").innerHTML="",r==0){let s=document.querySelector(".collection__empty");s.style.display="unset"}if(r!=0){let s=document.querySelector(".collection__empty");s.style.display="none"}if(r>u)for(a=0;a<u;a++){let s=o.children[a],n=document.createElement("div");if(n.className="productCard",n.innerHTML=s.innerHTML,document.querySelector(".collection__Productcontent").appendChild(n),ifinity==2){let p=document.querySelector(".collection__loadMore");p.style.display="flex"}}else{console.log(t);let s=t.querySelector(".collection__Productcontent").innerHTML;document.querySelector(".collection__Productcontent").innerHTML=s;let n=document.querySelector(".collection__loadMore");n.style.display="none"}})};removeTags=()=>{var c=document.querySelectorAll(".tag_RemoveIcon");c!=null&&c.forEach(e=>{let t=e.previousElementSibling.innerText;e.addEventListener("click",()=>{v=!1,document.querySelectorAll(".remove").forEach(r=>{let o=r.innerText.toLowerCase().replace(/ /g,"-");if(t==o){r.classList.remove("remove"),r.style.pointerEvents="unset";let s=i.split("+");s.length==1&&clearAll();for(let n=0;n<s.length;n++)s[n]==o&n==0&&(i=i.replace(`${o}+`,"")),s[n]==o&&n>0&&(i=i.replace(`+${o}`,""));renderItems()}}),e.parentElement.parentElement.style.display="none"})})};document.addEventListener("DOMContentLoaded",function(){console.log(document.querySelector(".filter-option").innerHTML);let e=window.location.href.split("?"),t=e[0].split("/");if(console.log(e[1]),t[5]!=null&&t[5]!=""||e[1]!=""&&e[1]!=null){let l=t[5].split("+"),r=`<div class="filter__tittle  filter_active">
        <div class="tittle__text">SHOPING BY:</div>
        <div class="Icon__Control">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M400 288h-352c-17.69 0-32-14.32-32-32.01s14.31-31.99 32-31.99h352c17.69 0 32 14.3 32 31.99S417.7 288 400 288z"/></svg>
        </div>
        <div class="Icon__Control plus">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"/></svg>
        </div>
        </div>
         <div class="item__wrap shopping">    
         </div>
            <div class="ClearAll_button">
            Clear All
         </div>  
         `,o=document.querySelector(".filter_Clear");t[5].length>0&&(o.innerHTML=r,document.querySelector(".ClearAll_button").addEventListener("click",()=>{clearAll()}),l.forEach(n=>{document.querySelectorAll(".tag").forEach(E=>{let b=E.innerText.toLowerCase().replace(/ /g,"-");n==b&&E.classList.add("remove")});let d=`
                <div class="shopingBy_tag">
                <div class="tag_text">
               ${n}
              </div>
              <div class="tag_RemoveIcon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06c-5.984 4.984-13.25 7.422-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1l-135.4 162.5c-6.328 7.594-15.42 11.52-24.59 11.52c-7.219 0-14.48-2.438-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206l135.4-162.5c11.3-13.58 31.48-15.42 45.06-4.094c13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z"/></svg>
              </div>
                </div>
               `;var h=document.querySelector(".shopping"),S=document.createElement("div");S.innerHTML=d,h.appendChild(S)}),removeTags()),i=t[5],console.log(e[1]),e[1]!=""&&e[1]!=null?(m=e[1].split("=")[1],document.querySelectorAll(".filter-option").forEach(n=>{n.getAttribute("value")==e[1].split("=")[1]&&(n.classList.add("same-as-selected"),n.classList.add("no-after"),n.nextElementSibling!=null&&n.nextElementSibling.classList.add("no-after"))})):m="best-selling",document.getElementsByClassName("select-items")[1].children[0].classList.add("same-as-selected"),u=parseInt(document.getElementsByClassName("select-selected")[1].innerHTML),renderItems()}else removeTags(),i="",document.querySelector(".select-items").children[1].click(),document.querySelector(".filter-option").classList.add("no-after"),m="best-selling",document.getElementsByClassName("select-items")[0].children[1].classList.add("same-as-selected"),document.getElementsByClassName("select-items")[1].children[0].classList.add("same-as-selected"),document.getElementsByClassName("select-items")[1].children[0].classList.add("no-after"),u=parseInt(document.getElementsByClassName("select-selected")[1].innerHTML)});clearAll=()=>{v=!1,i="",renderItems(),document.querySelector(".filter_Clear").textContent="",document.querySelectorAll(".remove").forEach(e=>{e.classList.remove("remove"),e.style.pointerEvents="unset"})};A.forEach(c=>{c.addEventListener("click",()=>{v=!1,c.style.pointerEvents="none";let e=c.innerText.toLowerCase().replace(/ /g,"-");var t=document.querySelector(".shopping");if(t==null){let s=`<div class="filter__tittle  filter_active">
        <div class="tittle__text">SHOPING BY:</div>
        <div class="Icon__Control">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M400 288h-352c-17.69 0-32-14.32-32-32.01s14.31-31.99 32-31.99h352c17.69 0 32 14.3 32 31.99S417.7 288 400 288z"/></svg>
        </div>
        <div class="Icon__Control plus">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"/></svg>
        </div>
        </div>
         <div class="item__wrap shopping">    
         </div>
            <div class="ClearAll_button">
            Clear All
         </div>
         `,n=document.querySelector(".filter_Clear");n.innerHTML=s}document.querySelector(".ClearAll_button").addEventListener("click",()=>{clearAll()});let r=`
         <div class="shopingBy_tag">
         <div class="tag_text">
        ${e}
       </div>
       <div class="tag_RemoveIcon">
         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06c-5.984 4.984-13.25 7.422-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1l-135.4 162.5c-6.328 7.594-15.42 11.52-24.59 11.52c-7.219 0-14.48-2.438-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206l135.4-162.5c11.3-13.58 31.48-15.42 45.06-4.094c13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z"/></svg>
       </div>
         </div>
        `;var t=document.querySelector(".shopping"),o=document.createElement("div");o.innerHTML=r,t.appendChild(o),c.classList.add("remove"),i==""?i=i+e:i=i+"+"+e,renderItems(),removeTags()})});loadmore=()=>{let c=document.querySelector(".collection__spinner"),e=parseInt(document.getElementById("display").value);c.style.display="unset",fetch("https://www.buyboatfridges.com/collections/"+collection_handle.toLowerCase()+"/"+i+"?sort_by="+m,{method:"GET",headers:{"Content-Type":"application/json"}}).then(t=>t.text()).then(t=>{let l=document.createElement("div");l.innerHTML=t;let r=document.querySelector(".collection__tittle"),o=l.querySelectorAll(".productCard").length,s=document.querySelectorAll(".productCard").length;r.innerHTML=collection_handle+`(${o})`,c.style.display="none",history.replaceState(null,null,"/collections/"+collection_handle.toLowerCase()+"/"+i+"?sort_by="+m);let n=l.querySelector(".collection__Productcontent");for(a=0;a<e;a++)if(s+a<o){let d=n.children[s+a],h=document.createElement("div");h.innerHTML=d.innerHTML,h.className="productCard",document.querySelector(".collection__Productcontent").appendChild(h)}if(document.querySelectorAll(".productCard").length==o){let d=document.querySelector(".collection__loadMore");d.style.display="none"}v=!1})};var M=document.querySelector(".collection__loadMore");M.addEventListener("click",()=>{loadmore()});var H=document.querySelector(".footer");window.addEventListener("scroll",()=>{if(!v){let c=document.querySelectorAll(".productCard").length;if(window.scrollY+window.innerHeight>=document.documentElement.scrollHeight-H.offsetHeight){v=!0;let e=document.querySelector(".collection__tittle").innerHTML,t=parseInt(e.split("(")[1].split(")")[0]);console.log(t),c<t&&ifinity==1&&loadmore()}}});var y,a,g,q,C,f,L,w,_;y=document.getElementsByClassName("custom-select");q=y.length;for(a=0;a<q;a++){for(f=y[a].getElementsByTagName("select")[0],C=f.length,console.log(C),L=document.createElement("DIV"),L.setAttribute("class","select-selected"),L.innerHTML=f.options[f.selectedIndex].innerHTML,y[a].appendChild(L),w=document.createElement("DIV"),w.setAttribute("class","select-items select-hide"),g=0;g<C;g++)_=document.createElement("DIV"),_.innerHTML=f.options[g].innerHTML,_.setAttribute("value",f.options[g].value),_.classList.add("filter-option"),_.addEventListener("click",function(c){v=!1,document.querySelectorAll(".no-after").forEach(d=>{d.classList.remove("no-after")}),document.querySelector(".filter-option").classList.add("no-after"),document.querySelectorAll(".select-items")[1].children[0].classList.add("no-after");var t,l,r,o,s,n,p;for(o=this.parentNode.parentNode.getElementsByTagName("select")[0],n=o.length,s=this.parentNode.previousSibling,l=0;l<n;l++)if(o.options[l].innerHTML==this.innerHTML){o.selectedIndex=l,s.innerHTML=this.innerHTML,s.setAttribute("value",o.options[l].value);let d=parseInt(o.options[l].value);for(d>0||d=="ALL"?(m=window.location.href.split("=")[1],u=d,renderItems()):(m=o.options[l].value,u=parseInt(document.getElementsByClassName("select-selected")[1].innerHTML),console.log(u),renderItems()),console.log(o.options[l].value),t=this.parentNode.getElementsByClassName("same-as-selected"),p=t.length,r=0;r<p;r++)t[r].classList.remove("same-as-selected");this.classList.add("same-as-selected"),this.classList.add("no-after"),this.nextElementSibling!=null&&this.nextElementSibling.classList.add("no-after");break}s.click()}),w.appendChild(_);y[a].appendChild(w),L.addEventListener("click",function(c){c.stopPropagation(),T(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}function T(c){var e,t,l,r,o,s=[];for(e=document.getElementsByClassName("select-items"),t=document.getElementsByClassName("select-selected"),r=e.length,o=t.length,l=0;l<o;l++)c==t[l]?s.push(l):t[l].classList.remove("select-arrow-active");for(l=0;l<r;l++)s.indexOf(l)&&e[l].classList.add("select-hide")}document.addEventListener("click",T);Shopify.designMode&&console.log("hahaha");})();
