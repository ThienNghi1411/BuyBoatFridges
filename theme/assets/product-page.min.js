(()=>{var _=document.querySelector(".productPage__quantityCont-minusBtn"),S=document.querySelector(".productPage__quantityCont-plusBtn"),n=document.querySelector(".productPage__quantityCont-inputQty"),a=document.querySelector(".productPage__termConditions"),q=document.querySelector(".productPage__askingPd"),g=document.querySelector(".popupAsking"),u=document.querySelector("body"),P=()=>{_.addEventListener("click",d),S.addEventListener("click",d),a.addEventListener("click",()=>{let e=a.querySelector(".productPage__termConditions-checkbox"),c=document.querySelectorAll(".productPage__btnBuyNow");e.classList.contains("productPage__termConditions-checkboxActive")?(e.classList.remove("productPage__termConditions-checkboxActive"),c.forEach(r=>{r.style.opacity="0.5",r.style.pointerEvents="none"})):(e.classList.add("productPage__termConditions-checkboxActive"),c.forEach(r=>{r.style.opacity="1",r.style.pointerEvents="all"}))}),q.addEventListener("click",()=>{window.scroll(0,0),g.style.display="block",u.style.overflow="hidden"})},d=e=>{e.target.getAttribute("name")==="minus"?n.value*1>1&&(n.value=n.value*1-1):n.value=n.value*1+1};P();var p=JSON.parse(document.querySelector("#productPage__settings").innerText).product,f=JSON.parse(document.querySelector("#productPage__settings").innerText).pdQuantity,h=document.querySelector('form[action$="/cart/add"]'),y=document.querySelector(".loading__spinner");h.addEventListener("submit",e=>b(e));var m=()=>[{section:"cart-quickview",selector:".cartQuickView"},{section:"cart-icon-bubble",selector:".header__myCart-qty"},{section:"cart-popup",selector:".cartPopupCont"}],v=e=>new DOMParser().parseFromString(e,"text/html"),b=e=>{e.preventDefault(),y.style.display="block";let c=`/products/${p.handle}`,r={items:[{id:p.variants[0].id,quantity:n.value}],sections:m().map(t=>t.section),sections_url:c};fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(t=>t.json()).then(t=>{if(y.style.display="none",window.scrollTo(0,0),t.status){let o=document.querySelector(".cartPopUpError");o.style.display="block";let s=o.querySelector(".cartPopUpError__error");s.innerText=t.description,u.style.overflow="hidden"}else m().forEach(o=>{if(o.selector===".cartPopupCont"){let s=new DOMParser,i=document.querySelector(".cartPopupCont"),l=s.parseFromString(t.sections[o.section],"text/html").querySelector(".cartPopup");l.setAttribute("data-qty",n.value),i.appendChild(l)}else document.querySelectorAll(o.selector).forEach(i=>{let l=v(t.sections[o.section]);i.replaceWith(l.querySelector(o.selector))})})}).catch(t=>{console.error("Error:",t)})};})();
