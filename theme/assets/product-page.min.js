(()=>{var k=document.querySelector(".productPage__quantityCont-minusBtn"),q=document.querySelector(".productPage__quantityCont-plusBtn"),l=document.querySelector(".productPage__quantityCont-inputQty"),y=document.querySelector(".productPage__termConditions"),h=()=>{k.addEventListener("click",m),q.addEventListener("click",m),y.addEventListener("click",()=>{let n=y.querySelector(".productPage__termConditions-checkbox"),c=document.querySelectorAll(".productPage__btnBuyNow");n.classList.contains("productPage__termConditions-checkboxActive")?(n.classList.remove("productPage__termConditions-checkboxActive"),c.forEach(e=>{e.style.opacity="0.5",e.style.pointerEvents="none"})):(n.classList.add("productPage__termConditions-checkboxActive"),c.forEach(e=>{e.style.opacity="1",e.style.pointerEvents="all"}))})},m=n=>{n.target.getAttribute("name")==="minus"?l.value*1>1&&(l.value=l.value*1-1):l.value=l.value*1+1};h();var S=n=>{let c=document.querySelector(".cartPopup");if(c!==null){let e=document.querySelector(".cartPopup__pdQty-qty");e.innerText=l.value;let o=document.querySelector(".cartPopup__total-total");o.innerText="$"+n.price*1*l.value*1/100;let i=document.querySelector(".cartPopup__content"),d=document.querySelector(".cartPopup__closeBtn"),a=document.querySelector(".cartPopup__overlay"),r=document.querySelector(".cartPopup__btnShopping"),u=()=>{c.parentElement.parentElement.remove(),s()};i.addEventListener("click",t=>{t.stopPropagation()}),d.addEventListener("click",t=>{u()}),a.addEventListener("click",u),r.addEventListener("click",t=>{t.stopPropagation(),u()});let s=()=>{let t=document.querySelector("body");t.style.overflow==="hidden"?t.style.overflow="visible":t.style.overflow="hidden"};s()}},_=()=>{if(document.querySelector(".cartQuickView__emptyCart")===null){let c=document.querySelector(".header__myCart"),e=document.querySelector(".cartQuickView"),o=document.querySelector(".cartQuickView__checkbox"),i=document.querySelector(".cartQuickView__checkOutBtn"),d=document.querySelectorAll(".cartQuickView__productLine-removeIcon"),a=document.querySelector(".header__myCart-qty");e.addEventListener("click",r=>{r.stopPropagation()}),c.addEventListener("click",()=>{e.style.display==="none"?e.style.display="block":e.style.display="none"}),o.addEventListener("click",()=>{let r=o.querySelector(".cartQuickView__checkbox-box");r.classList.contains("cartQuickView__checkbox-boxActive")?(r.classList.remove("cartQuickView__checkbox-boxActive"),i.style.opacity="0.5",i.style.pointerEvents="none"):(r.classList.add("cartQuickView__checkbox-boxActive"),i.style.opacity="1",i.style.pointerEvents="all")}),d.forEach(r=>{r.addEventListener("click",u=>{u.preventDefault();let s=r.getAttribute("idPd");fetch(window.Shopify.routes.root+"cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,quantity:0,sections:"cart-quickview",sections_url:window.location.pathname})}).then(t=>t.json()).then(t=>{console.log(t),console.log(a.innerText),a.innerText=t.item_count,e.remove();let p=document.createElement("div");p.innerHTML=t.sections["cart-quickview"],c.appendChild(p.querySelector(".cartQuickView")),document.querySelector(".cartQuickView").style.display="block",_()}).catch(t=>{console.error("Error:",t)})})})}else{let c=document.querySelector(".header__myCart"),e=document.querySelector(".cartQuickView");c.addEventListener("click",()=>{e.style.display==="none"?e.style.display="block":e.style.display="none"})}},w=JSON.parse(document.querySelector("#productPage__settings").innerText).product,v=document.querySelector('form[action$="/cart/add"]');v.addEventListener("submit",n=>b(n));var b=n=>{n.preventDefault();let c=new FormData(v),e=`/products/${w.handle}`;c.append("sections","cart-popup,cart-quickview"),c.append("sections_url",e),fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",body:c}).then(o=>o.json()).then(o=>{console.log(o);let i=document.querySelector(".header__myCart-qty");i.innerText=i.innerText*1+l.value*1,window.scrollTo(0,0);let d=document.querySelector(".productPage"),a=document.createElement("div");a.innerHTML=o.sections["cart-popup"],d.parentElement.appendChild(a),S(o);let r=document.querySelector(".header__myCart");document.querySelector(".cartQuickView").remove();let s=document.createElement("div");s.innerHTML=o.sections["cart-quickview"],r.appendChild(s.querySelector(".cartQuickView")),_()}).catch(o=>{console.error("Error:",o)})};})();
