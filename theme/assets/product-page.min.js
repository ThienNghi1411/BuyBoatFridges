(()=>{var q=document.querySelector(".productPage__quantityCont-minusBtn"),v=document.querySelector(".productPage__quantityCont-plusBtn"),o=document.querySelector(".productPage__quantityCont-inputQty"),a=document.querySelector(".quickAdd__inputField"),u=document.querySelector(".productPage__termConditions"),S=document.querySelector(".productPage__askingPd"),g=document.querySelector(".popupAsking"),h=document.querySelector(".popupAsking__contentDefault"),d=document.querySelector("body"),P=()=>{q.addEventListener("click",p),v.addEventListener("click",p),a.addEventListener("change",()=>{o.value=a.value}),u.addEventListener("click",()=>{let e=u.querySelector(".productPage__termConditions-checkbox"),c=document.querySelectorAll(".productPage__btnBuyNow");e.classList.contains("productPage__termConditions-checkboxActive")?(e.classList.remove("productPage__termConditions-checkboxActive"),c.forEach(n=>{n.style.opacity="0.5",n.style.pointerEvents="none"})):(e.classList.add("productPage__termConditions-checkboxActive"),c.forEach(n=>{n.style.opacity="1",n.style.pointerEvents="all"}))}),S.addEventListener("click",()=>{h.style.display="block",g.style.display="block",d.style.overflow="hidden"})},p=e=>{e.target.getAttribute("name")==="minus"?(o.value*1>1&&(o.value=o.value*1-1),a.value=o.value):(o.value=o.value*1+1,a.value=o.value)};P();var y=JSON.parse(document.querySelector("#productPage__settings").innerText).product,E=JSON.parse(document.querySelector("#productPage__settings").innerText).pdQuantity,k=document.querySelectorAll('form[action$="/cart/add"]'),m=document.querySelector(".loading__spinner");k.forEach(e=>{e.addEventListener("submit",c=>b(c))});var _=()=>[{section:"cart-quickview",selector:".cartQuickView"},{section:"cart-icon-bubble",selector:".header__myCart-qty"},{section:"cart-popup",selector:".cartPopupCont"}],f=e=>new DOMParser().parseFromString(e,"text/html"),b=e=>{e.preventDefault(),m.style.display="block";let c=`/products/${y.handle}`,n={items:[{id:y.variants[0].id,quantity:o.value}],sections:_().map(t=>t.section),sections_url:c};fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(t=>t.json()).then(t=>{if(m.style.display="none",t.status){let r=document.querySelector(".cartPopUpError");r.style.display="block";let s=r.querySelector(".cartPopUpError__error");s.innerText=t.description,d.style.overflow="hidden"}else _().forEach(r=>{if(r.selector===".cartPopupCont"){let s=new DOMParser,i=document.querySelector(".cartPopupCont"),l=s.parseFromString(t.sections[r.section],"text/html").querySelector(".cartPopup");l.setAttribute("data-qty",o.value),i.appendChild(l)}else document.querySelectorAll(r.selector).forEach(i=>{let l=f(t.sections[r.section]);i.replaceWith(l.querySelector(r.selector))})})}).catch(t=>{console.error("Error:",t)})};})();
