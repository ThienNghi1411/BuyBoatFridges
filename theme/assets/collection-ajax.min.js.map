{
  "version": 3,
  "sources": ["../../app/scripts/collection-ajax.js"],
  "sourcesContent": ["var tag = document.querySelectorAll(\".tag\");\r\n//Query , sort => global\r\nvar Query = '';\r\nvar sort = document.getElementById(\"sort-by\")\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    renderItems()\r\n})\r\n//remove tag\r\nremoveTags = () => {\r\n    var remove_Icons = document.querySelectorAll(\".tag_RemoveIcon\");\r\n    if (remove_Icons != undefined) {\r\n        remove_Icons.forEach(e => {\r\n            let remove_text = e.previousElementSibling.innerText;\r\n            e.addEventListener(\"click\", () => {\r\n                let tags_remove = document.querySelectorAll(\".remove\");\r\n                // console.log(tags_remove)\r\n                tags_remove.forEach(e => {\r\n                    let normal_text = e.innerText.toLowerCase().replace(/ /g, '-');\r\n                    // console.log(normal_text)\r\n                    if (remove_text == normal_text) {\r\n                        e.classList.remove(\"remove\")\r\n                        let Query_array = Query.split('+');\r\n                        // console.log(normal_text);\r\n                        console.log(Query_array.length)\r\n                        if (Query_array.length == 1) {\r\n                            clearAll();\r\n                        }\r\n                        for (let i = 0; i < Query_array.length; i++) {\r\n\r\n                            if (Query_array[i] == normal_text & i == 0) {\r\n                                Query = Query.replace(`${normal_text}+`, '');\r\n\r\n                            }\r\n                            if (Query_array[i] == normal_text && i > 0) {\r\n                                Query = Query.replace(`+${normal_text}`, '');\r\n                            }\r\n                        }\r\n                        // console.log(Query)\r\n                        renderItems();\r\n\r\n\r\n\r\n                    }\r\n                })\r\n                e.parentElement.parentElement.style.display = \"none\";\r\n                // let container = document.querySelector(\".filter_Clear\")\r\n                // let container_item = document.querySelector(\".shopingBy_tag\")\r\n                // if(container_item==undefined)\r\n                // {\r\n                //     container.style.display = none;\r\n                // }\r\n            })\r\n        })\r\n    }\r\n}\r\n//sort\r\nsort.addEventListener(\"change\", (e) => {\r\n    renderItems();\r\n})\r\n//clearAll\r\nclearAll = () => {\r\n    Query = '';\r\n    renderItems();\r\n    document.querySelector(\".filter_Clear\").textContent = '';\r\n    let remove_tags = document.querySelectorAll(\".remove\");\r\n    remove_tags.forEach(e => {\r\n        e.classList.remove(\"remove\");\r\n    })\r\n\r\n}\r\n//Render Items with Query & sort\r\nrenderItems = () => {\r\n    let spinner = document.querySelector(\".collection__spinner\");\r\n    let render_number = parseInt(document.getElementById(\"display\").value);\r\n    spinner.style.display = \"unset\";\r\n    fetch('https://www.buyboatfridges.com/collections/' + collection_handle + '/' + Query + '?sort_by=' + sort.value)\r\n        .then(response => response.text())\r\n        .then(data => {\r\n            // console.log(data)\r\n            let html_div = document.createElement('div');\r\n            html_div.innerHTML = data;\r\n           \r\n            // console.log(html_div)\r\n            let collection__tittle = document.querySelector(\".collection__tittle\");\r\n                var product_count = html_div.querySelectorAll('.productCard').length;\r\n                collection__tittle.innerHTML = collection_handle + `(${product_count})`\r\n                spinner.style.display=\"none\";\r\n                history.replaceState(null, null, '/collections/' + collection_handle + '/' + Query+ '?sort_by=' + sort.value);\r\n            // product_count tong san pham\r\n            // render_number so sp can render\r\n            let ProductContainer = html_div.querySelector('.collection__Productcontent');\r\n            // console.log(ProductContainer.children[7]);\r\n            document.querySelector('.collection__Productcontent').innerHTML = '';\r\n           \r\n            if(product_count>render_number)\r\n            {\r\n                for (i = 0; i < render_number; i++) {\r\n                    let collection_item = ProductContainer.children[i];\r\n                    let div = document.createElement('div');\r\n                    div.className=\"productCard\";\r\n                    div.innerHTML = collection_item.innerHTML;\r\n    \r\n                    // console.log(ProductContainer);\r\n                    // console.log(collection_item)\r\n                    document.querySelector('.collection__Productcontent').appendChild(div);\r\n                    if(ifinity==2)\r\n                    {\r\n                        let loadmore = document.querySelector(\".collection__loadMore\");\r\n                        loadmore.style.display=\"flex\";    \r\n                    }\r\n              \r\n                }\r\n                \r\n            }\r\n            else\r\n            {\r\n                let html_dom = html_div.querySelector('.collection__Productcontent').innerHTML;\r\n                document.querySelector('.collection__Productcontent').innerHTML = html_dom;\r\n            }\r\n            \r\n\r\n        })\r\n}\r\n//add tag\r\ntag.forEach(e => {\r\n    e.addEventListener(\"click\", () => {\r\n        console.log(\"hahahhaa\")\r\n        //Double Door -> double-door\r\n        let newString = e.innerText.toLowerCase().replace(/ /g, '-');\r\n        var filter_container = document.querySelector(\".shopping\");\r\n        //render container\r\n        if (filter_container == undefined) {\r\n            let html_dom = `<div class=\"filter__tittle  filter_active\">\r\n        <div class=\"tittle__text\">SHOPING BY:</div>\r\n        <div class=\"Icon__Control\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M400 288h-352c-17.69 0-32-14.32-32-32.01s14.31-31.99 32-31.99h352c17.69 0 32 14.3 32 31.99S417.7 288 400 288z\"/></svg>\r\n        </div>\r\n        <div class=\"Icon__Control plus\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z\"/></svg>\r\n        </div>\r\n        \r\n        </div>\r\n\r\n         <div class=\"item__wrap shopping\">    \r\n\r\n         </div>\r\n            <div class=\"ClearAll_button\">\r\n            Clear All\r\n         </div>\r\n        \r\n         `\r\n            let clear_container = document.querySelector(\".filter_Clear\");\r\n            clear_container.innerHTML = html_dom;\r\n        }\r\n\r\n        //Clear All Button\r\n        let ClearAll_button = document.querySelector(\".ClearAll_button\");\r\n        ClearAll_button.addEventListener(\"click\", () => {\r\n            clearAll();\r\n        })\r\n        //render tag item\r\n        let html_dom2 = `\r\n         <div class=\"shopingBy_tag\">\r\n\r\n         <div class=\"tag_text\">\r\n        ${newString}\r\n       </div>\r\n       <div class=\"tag_RemoveIcon\">\r\n         <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06c-5.984 4.984-13.25 7.422-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1l-135.4 162.5c-6.328 7.594-15.42 11.52-24.59 11.52c-7.219 0-14.48-2.438-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206l135.4-162.5c11.3-13.58 31.48-15.42 45.06-4.094c13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z\"/></svg>\r\n       </div>\r\n         </div>\r\n        `\r\n        var filter_container = document.querySelector(\".shopping\");\r\n        var div = document.createElement('div');\r\n        div.innerHTML = html_dom2\r\n        filter_container.appendChild(div);\r\n        //Hide tag filter\r\n        e.classList.add(\"remove\");\r\n        //update Query value\r\n        if (Query == '') Query = Query + newString;\r\n        else Query = Query + '+' + newString;\r\n        // console.log(Query);\r\n\r\n        //render data\r\n        renderItems();\r\n\r\n        //add event remove tag\r\n        removeTags();\r\n\r\n    })\r\n\r\n})\r\n//loadmore\r\n\r\nloadmore = () =>{\r\n   \r\n \r\n        let spinner = document.querySelector(\".collection__spinner\");\r\n        let render_number = parseInt(document.getElementById(\"display\").value);\r\n        spinner.style.display = \"unset\";\r\n        fetch('https://www.buyboatfridges.com/collections/' + collection_handle + '/' + Query + '?sort_by=' + sort.value)\r\n            .then(response => response.text())\r\n            .then(data => {\r\n                // console.log(data)\r\n                let html_div = document.createElement('div');\r\n                html_div.innerHTML = data;\r\n                // let html_dom = html_div.querySelector('.collection__Productcontent').innerHTML;\r\n                // document.querySelector('.collection__Productcontent').innerHTML = html_dom;\r\n                // console.log(html_div)\r\n                let collection__tittle = document.querySelector(\".collection__tittle\");\r\n                    let product_count = html_div.querySelectorAll('.productCard').length;\r\n                    collection__tittle.innerHTML = collection_handle + `(${product_count})`\r\n                    spinner.style.display=\"none\";\r\n                    history.replaceState(null, null, '/collections/' + collection_handle + '/' + Query+ '?sort_by=' + sort.value);\r\n                // product_count tong san pham\r\n                // render_number so sp can render\r\n                let ProductContainer = html_div.querySelector('.collection__Productcontent');\r\n                // console.log(ProductContainer.children[7]);\r\n               \r\n                    for (i = 0; i < render_number; i++) {\r\n                        if(render_number+i<product_count)\r\n                        {\r\n                            let collection_item = ProductContainer.children[render_number+i];\r\n                        let div = document.createElement('div');\r\n                        div.innerHTML = collection_item.innerHTML;\r\n                        div.className=\"productCard\";\r\n                        // console.log(ProductContainer);\r\n                        // console.log(collection_item)\r\n                        document.querySelector('.collection__Productcontent').appendChild(div);\r\n                        }\r\n                        \r\n                        \r\n                       \r\n                    }\r\n    \r\n                    let ItemOnScreen = document.querySelectorAll(\".productCard\").length;\r\n                    // console.log(ItemOnScreen)\r\n                    // console.log(product_count)\r\n                    if(ItemOnScreen==product_count){\r\n                        let loadmore = document.querySelector(\".collection__loadMore\");\r\n                        loadmore.style.display=\"none\";\r\n                    }\r\n    \r\n                    \r\n                \r\n                \r\n    \r\n            })\r\n    \r\n}\r\nvar Load_Button = document.querySelector(\".collection__loadMore\");\r\nLoad_Button.addEventListener(\"click\", ()=>{\r\n    loadmore();\r\n})\r\n//display\r\nvar display = document.getElementById(\"display\")\r\ndisplay.addEventListener(\"change\", (e) => {\r\n    renderItems();\r\n})\r\n\r\n//ifinity load\r\nvar footer = document.querySelector(\".footer\").getBoundingClientRect().height;\r\nwindow.addEventListener('scroll', () => {\r\n\tif(window.scrollY + window.innerHeight >=document.documentElement.scrollHeight) {\r\n\t\tlet products= document.querySelectorAll(\".productCard\").length;\r\n        let tittle= document.querySelector(\".collection__tittle\").innerHTML;\r\n        let total =parseInt(tittle.split('(')[1].split(')')[0]) ;\r\n        if(products<total)\r\n        {\r\n            if(ifinity==1)\r\n            {\r\n                loadmore();\r\n                products= document.querySelectorAll(\".productCard\").length;\r\n            }\r\n           \r\n        }\r\n\t}\r\n\r\n});\r\n\r\n"],
  "mappings": "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",
  "names": []
}
