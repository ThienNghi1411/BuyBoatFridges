(()=>{var i=class extends HTMLElement{constructor(){console.log("b");super();this.addEventListener("click",c=>{console.log(this);let t=this.querySelector(".cartQuickView__productLine-spinner"),e=this.querySelector("svg");t.style.display="block",e.style.display="none",c.preventDefault(),this.closest("cart-quick-view").updateQuantity(this.dataset.idproduct,0)})}};customElements.define("cart-remove-button",i);var n=class extends HTMLElement{constructor(){super();this.init()}init(){console.log("a");let c=this.querySelector(".cartQuickView__checkbox"),t=this.querySelector(".cartQuickView__checkOutBtn");c.addEventListener("click",()=>{let e=c.querySelector(".cartQuickView__checkbox-box");e.classList.contains("cartQuickView__checkbox-boxActive")?(e.classList.remove("cartQuickView__checkbox-boxActive"),t.style.opacity="0.5",t.style.pointerEvents="none"):(e.classList.add("cartQuickView__checkbox-boxActive"),t.style.opacity="1",t.style.pointerEvents="all")})}getSectionsToRender(){return[{section:"cart-quickview",selector:".cartQuickView"},{section:"cart-icon-bubble",selector:".header__myCart-qty"}]}updateQuantity(c,t){fetch(window.Shopify.routes.root+"cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:c,quantity:t,sections:this.getSectionsToRender().map(e=>e.section),sections_url:window.location.pathname})}).then(e=>e.json()).then(e=>{console.log(e),this.getSectionsToRender().forEach(o=>{let r=document.querySelector(o.selector);r.innerHTML=this.getSectionInnerHTML(e.sections[o.section],o.selector)})}).catch(e=>{console.error("Error:",e)})}getSectionInnerHTML(c,t){return new DOMParser().parseFromString(c,"text/html").querySelector(t).innerHTML}};customElements.define("cart-quick-view",n);})();
